import{a as u}from"./index-DW_MHI2K.js";import{r as p}from"./index-BUUJBkJA.js";const c=void 0,g=()=>{const t=p(!1),r=p(null);return{register:async(n,o,s)=>{var e,a;t.value=!0,r.value=null;try{return(await u.post(`${c}/api/auth/register`,{name:n,email:o,password:s})).data}catch(l){const i=l;throw r.value=((a=(e=i.response)==null?void 0:e.data)==null?void 0:a.error)||"註冊失敗",r.value}finally{t.value=!1}},login:async(n,o)=>{var s,e;t.value=!0,r.value=null;try{return(await u.post(`${c}/api/auth/login`,{email:n,password:o})).data}catch(a){const l=a;throw r.value=((e=(s=l.response)==null?void 0:s.data)==null?void 0:e.error)||"登入失敗",r.value}finally{t.value=!1}},refreshToken:async n=>{var o,s;try{return(await u.post(`${c}/api/auth/refresh`,{refreshToken:n})).data}catch(e){throw((s=(o=e.response)==null?void 0:o.data)==null?void 0:s.error)||"Token 刷新失敗"}},loading:t,error:r}};export{g as u};
