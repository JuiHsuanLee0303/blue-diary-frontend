import{a as n}from"./index-DW_MHI2K.js";import{r as i}from"./index-BI7B1XWn.js";const u=void 0,$=()=>{const o=i(!1),e=i(null);return{createDiveLog:async s=>{var a,r;o.value=!0,e.value=null;try{return(await n.post(`${u}/api/divelog`,s,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data}catch(t){const l=t;throw e.value=((r=(a=l.response)==null?void 0:a.data)==null?void 0:r.error)||"建立潛水日誌失敗",e.value}finally{o.value=!1}},updateDiveLog:async(s,a)=>{var r,t;o.value=!0,e.value=null;try{return(await n.put(`${u}/api/divelog/${s}`,a,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data}catch(l){const c=l;throw e.value=((t=(r=c.response)==null?void 0:r.data)==null?void 0:t.error)||"更新潛水日誌失敗",e.value}finally{o.value=!1}},getDiveLogs:async()=>{var s,a;o.value=!0,e.value=null;try{const r=await n.get(`${u}/api/divelog`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return console.log(r.data),r.data}catch(r){const t=r;throw e.value=((a=(s=t.response)==null?void 0:s.data)==null?void 0:a.error)||"獲取潛水日誌失敗",e.value}finally{o.value=!1}},getDiveLog:async s=>{var a,r;o.value=!0,e.value=null;try{return(await n.get(`${u}/api/divelog/${s}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data}catch(t){const l=t;throw e.value=((r=(a=l.response)==null?void 0:a.data)==null?void 0:r.error)||"獲取潛水日誌失敗",e.value}finally{o.value=!1}},deleteDiveLog:async s=>{var a,r;o.value=!0,e.value=null;try{await n.delete(`${u}/api/divelog/${s}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}catch(t){const l=t;throw e.value=((r=(a=l.response)==null?void 0:a.data)==null?void 0:r.error)||"刪除潛水日誌失敗",e.value}finally{o.value=!1}},loading:o,error:e}};export{$ as u};
